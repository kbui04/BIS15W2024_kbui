# Select input for hero_names
selectInput("hero_name", "Select Hero:", choices = unique(superhero_info$hero_names)),
# Display selected variables
tableOutput("selected_data")
)
View(ui)
View(ui)
View(superhero_info)
# User interface
ui <- fluidPage(
# Select input for hero_names
selectInput("hero_name", "Select Hero:", choices = (superhero_info$hero_names)),
# Display selected variables
tableOutput("selected_data")
)
View(superhero_info)
# Filter data based on selected hero_name
filtered_data <- superhero_info %>% filter(hero_names == input$hero_names)
# Filter data based on selected hero_name
filtered_data <- superhero_info %>% filter(hero_names == input$hero_name)
# Server logic (where input is accessible)
server <- function(input, output) {
output$selected_data <- renderTable({
# Filter data based on selected hero_name (within the server function)
filtered_data <- superhero_info %>% filter(hero_names == input$hero_name)
# Display desired variables
filtered_data %>% select(agility)
})
}
library("tidyverse")
library("janitor")
wolves <- read.csv("data/NPS_wolfmortalitydata.csv") %>% clean_names()
glimpse(wolves)
str(wolves)
wolves %>%
select(park) %>%
distinct()
str(wolves)
wolves %>%
group_by(park) %>%
summarize(packs = n_distinct(pack))
View(wolves)
wolves %>%
filter(park == "YNP") %>%
ggplot(aes(x = year, y = packsize)) +
geom_point() +
geom_smooth()
wolves %>%
filter(park == "YNP") %>%
ggplot(aes(x = year, y = packsize_aug)) +
geom_point() +
geom_smooth()
wolves %>%
filter(park == "YNP")
wolves %>%
filter(park == "YNP") %>%
group_by(biolyr, pack) %>%
summarize(mean_packsize = mean(packsize_aug)) %>%
```
wolves %>%
filter(park == "YNP") %>%
group_by(biolyr, pack) %>%
summarize(mean_packsize = mean(packsize_aug))
wolves %>%
filter(park == "YNP") %>%
group_by(biolyr, pack) %>%
summarize(mean_packsize = mean(packsize_aug, na.rm=T))
wolves %>%
filter(park == "YNP") %>%
group_by(biolyr, pack) %>%
summarize(n=packsize) %>%))
wolves %>%
filter(park == "YNP") %>%
group_by(biolyr, pack) %>%
summarize(n=packsize))
wolves %>%
filter(park == "YNP") %>%
group_by(biolyr, pack) %>%
summarize(n=packsize)
wolves %>%
filter(park == "YNP") %>%
group_by(biolyr, pack) %>%
summarize(n=packsize_aug)
wolves %>%
filter(park == "YNP" & pack=="mollies")
wolves %>%
filter(park == "YNP" & pack=="mollies") %>%
group_by(biolyr) %>%
summarize(n=packsize_aug)
wolves %>%
filter(park == "YNP" & pack=="mollies") %>%
group_by(biolyr) %>%
summarize(n=packsize_aug) %>%
ggplot(aes(x=biolyr, y=n)) +
geom_bar()
wolves %>%
filter(park == "YNP" & pack=="mollies") %>%
group_by(biolyr) %>%
summarize(n=packsize_aug) %>%
ggplot(aes(x=biolyr, y=n)) +
geom_col()
wolves %>%
filter(park == "YNP" & pack=="mollies") %>%
group_by(biolyr) %>%
summarize(n=packsize_aug)
wolves %>%
filter(park == "YNP" & pack=="mollies") %>%
group_by(biolyr) %>%
summarize(n=packsize_aug) %>%
mutate(biolyr = as.factor(biolyr))
wolves %>%
filter(park == "YNP" & pack=="mollies") %>%
group_by(biolyr) %>%
summarize(n=packsize_aug) %>%
mutate(biolyr = as.factor(biolyr)) %>%
mutate(n = as.numeric(n))
wolves %>%
filter(park == "YNP" & pack=="mollies") %>%
group_by(biolyr) %>%
summarize(n=packsize_aug) %>%
mutate(biolyr = as.factor(biolyr)) %>%
mutate(n = as.numeric(n)) %>%
ggplot(aes(x=biolyr, y=n)) +
geom_point()
wolves %>%
filter(park == "YNP" & pack=="mollies") %>%
group_by(biolyr) %>%
summarize(n=packsize_aug) %>%
mutate(biolyr = as.factor(biolyr)) %>%
mutate(n = as.numeric(n)) %>%
ggplot(aes(x=biolyr, y=n)) +
geom_col()
wolves %>%
filter(park == "YNP" & pack=="mollies") %>%
group_by(biolyr) %>%
summarize(n=packsize_aug) %>%
mutate(biolyr = as.factor(biolyr)) %>%
mutate(n = as.numeric(n)) %>%
ggplot(aes(x=biolyr, y=n)) +
geom_col()+
coord_flip()
names(wolves)
str(wolves)
wolves %>%
tabyl(park))
wolves %>%
tabyl(park)
wolves %>%
count(park)
wolves %>%
select(park) %>%
distinct()
wolves %>%
select(park) %>%
distinct()
View(wolves)
wolves %>%
tabyl(park)
View(wolves)
wolves %>% count(park)
wolves %>% distinct(park)
wolves %>% tabyl(park)
str(wolves)
wolves %>%
group_by(park) %>%
summarize(packs = n_distinct(pack)) %>%
arrange(desc(packs))
wolves %>%
group_by(park) %>%
summarize(deaths = sum(deaths)) %>%
arrange(desc(deaths))
str(wolves)
wolves %>%
group_by(park) %>%
summarize(deaths = sum(mort_all)) %>%
arrange(desc(deaths))
wolves %>%
filter(mortYN==0)
wolves %>%
filter("mortYN"==0)
wolves %>%
filter("mort_yn"==0)
wolves %>%
filter(mort_yn==0)
wolves %>%
filter(mort_yn==0) %>%
table(park, mort_yn)
wolves %>%
filter(mort_yn==0)
wolves %>%
filter(mort_yn==0) %>%
table(park, mort_yn)
wolves %>%
filter(mort_yn==0)
wolves %>%
filter(mort_yn==0) %>%
group_by(park) %>%
summarize(zero_mort = n())
wolves %>% count(park, wt = mort_all)
wolves %>% count(park, mort_all)
wolves %>% count(park, wt=mort_all)
wolves %>% count(park, mort_all)
wolves %>%
group_by(park) %>%
summarize(deaths = sum(mort_all)) %>%
arrange(desc(deaths))
wolves %>%
filter(park=="YUCH")
wolves %>%
filter(park=="YUCH") %>%
count(mort_yn)
wolves %>%
filter(park=="YUCH") %>%
count(mort_all)
wolves %>%
filter(park=="YUCH")
wolves %>%
filter(park=="YUCH") %>%
sum(mort_all)
wolves %>%
filter(park=="YUCH") %>%
sum("mort_all")
wolves %>%
filter(park=="YUCH") %>%
summarize(n_deaths=sum(mort_all))
wolves %>%
filter(park=="YNP") %>%
summarize(n_deaths=sum(mort_all))
ynp <- wolves %>% filter(park == "YNP")
ynp %>%
group_by(pack) %>%
summarize(persistence = sum(persisty1)) %>%
arrange(desc(persistence))
str(wolves)
ynp %>%
mutate(persisty1=as.numeric(persisty1)) %>%
group_by(pack) %>%
summarize(persistence = sum(persisty1)) %>%
arrange(desc(persistence))
ynp %>%
mutate(persisty1=as.numeric(persisty1)) %>%
group_by(pack) %>%
summarize(persistence = sum(persisty1, na.rm=T)) %>%
arrange(desc(persistence))
ynp %>%
group_by(pack) %>%
summarize(mean_pack_size = mean(packsize_aug)) %>%
arrange(desc(mean_pack_size))
ynp %>%
group_by(pack) %>%
summarize(mean_pack_size = mean(packsize_aug)) %>%
arrange(desc(mean_pack_size, na.rm=T))
wolves <- read.csv("data/NPS_wolfmortalitydata.csv", na = c("NULL")) %>% clean_names()
View(wolves)
wolves <- read.csv("data/NPS_wolfmortalitydata.csv", na = c("NULL")) %>% clean_names()
names(wolves)
str(wolves)
wolves %>% tabyl(park)
wolves %>% count(park)
wolves %>% distinct(park)
wolves %>%
group_by(park) %>%
summarize(packs = n_distinct(pack)) %>%
arrange(desc(packs))
wolves %>%
group_by(park) %>%
summarize(deaths = sum(mort_all)) %>%
arrange(desc(deaths))
View(wolves)
ynp %>%
group_by(pack) %>%
summarize(mean_pack_size = mean(packsize_aug)) %>%
arrange(desc(mean_pack_size))
ynp <- wolves %>% filter(park == "YNP")
ynp %>%
group_by(pack) %>%
summarize(mean_pack_size = mean(packsize_aug)) %>%
arrange(desc(mean_pack_size))
ynp %>%
group_by(pack) %>%
summarize(persistence = sum(persisty1)) %>%
arrange(desc(persistence))
ynp %>%
filter(pack=="oxbow")
ynp %>% filter(pack=="druid")
ynp %>%
group_by(pack) %>%
summarize(mean_pack_size = median(packsize_aug)) %>%
arrange(desc(mean_pack_size))
ynp %>%
select(packsize_aug)
ynp %>%
select(pack, packsize_aug)
ynp %>%
filter(pack=="druid")
ynp %>%
filter(pack=="druid") %>%
summarize(avg_pack_size = mean(packsz))))
ynp %>%
filter(pack=="druid") %>%
summarize(avg_pack_size = mean(packsz))
ynp %>%
filter(pack=="druid") %>%
summarize(avg_pack_size = mean(packsz))
ynp %>%
filter(pack=="druid") %>%
summarize(avg_pack_size = mean(packsize_aug))
druidsË†ynp %>% filter(pack=="druid")
druids <- ynp %>% filter(pack=="druid")
View(druids)
mean(druids$packsize)
View(druids)
mean(druids$packsize)
View(ynp)
mean(druids$packsize_aug)
ynp %>%
filter(pack=="druid") %>%
summarize(mean_packsize = mean(packsize_aug))
ynp %>%
group_by(pack) %>%
summarize(persistence = sum(persisty1)) %>%
arrange(desc(persistence))
ynp %>%
group_by(pack) %>%
summarize(persistence = sum(persisty1, na.rm=T)) %>%
arrange(desc(persistence))
wolves %>%
filter(pack=="druid")
wolves %>%
filter(pack=="druid") %>%
select(biolyr, packsize_aug)
wolves %>%
filter(pack=="druid") %>%
select(biolyr, packsize_aug) %>%
arrange(desc(biolyr))
wolves %>%
filter(pack=="druid") %>%
select(biolyr, packsize_aug) %>%
arrange(biolyr)
View(ynp)
ynp %>%
group_by(pack) %>%
summarize(persistence = sum(reprody1, na.rm=T)) %>%
arrange(desc(persistence))
wolves %>%
group_by(park) %>%
summarize(mean_packsize = mean(packsize_aug)) %>%
ggplot(aes(x=park, y=mean_packsize)) +
geom_col() +
labs(title="Average pack size by park", x="Park", y="Average pack size")
ynp %>%
filter(pack=="mollies") %>%
ggplot(aes(x=biolyr, y=packsize_aug)) +
geom_col()
ynp %>%
filter(pack=="mollies") %>%
ggplot(aes(x=as.factor(biolyr), y=packsize_aug)) +
geom_col()
ynp %>%
filter(pack=="mollies") %>%
ggplot(aes(x=as.factor(biolyr), y=packsize_aug)) +
geom_col()+
coord_flip()+
```
ynp %>%
filter(pack=="mollies") %>%
ggplot(aes(x=as.factor(biolyr), y=packsize_aug)) +
geom_col()+
coord_flip()
ynp %>%
filter(pack=="mollies") %>%
ggplot(aes(x=biolyr, y=packsize_aug)) +
geom_col()+
coord_flip()
ynp %>%
filter(pack=="druids") %>%
ggplot(aes(x=biolyr, y=packsize_aug)) +
geom_col()+
coord_flip()
ynp %>%
filter(pack=="druid") %>%
ggplot(aes(x=biolyr, y=packsize_aug)) +
geom_col()+
coord_flip()
wolves %>%
summarize(packs = n_distinct(pack)) %>%
arrange(desc(packs))
wolves %>%
group_by(park) %>%
summarize(packs = n_distinct(pack)) %>%
arrange(desc(packs))
library("tidyverse")
library("janitor")
wolves <- read.csv("data/NPS_wolfmortalitydata.csv", na = c("NULL")) %>% clean_names()
names(wolves)
str(wolves)
wolves %>% tabyl(park)
wolves %>% count(park)
wolves %>% distinct(park)
wolves %>%
group_by(park) %>%
summarize(packs = n_distinct(pack)) %>%
arrange(desc(packs))
wolves %>%
group_by(park) %>%
summarize(deaths = sum(mort_all)) %>%
arrange(desc(deaths))
ynp <- wolves %>% filter(park == "YNP")
druids <- ynp %>% filter(pack=="druid")
mean(druids$packsize_aug)
ynp %>%
filter(pack=="druid") %>%
summarize(mean_packsize = mean(packsize_aug))
wolves %>%
filter(pack=="druid") %>%
select(biolyr, packsize_aug) %>%
arrange(biolyr)
ynp %>%
group_by(pack) %>%
summarize(persistence = sum(persisty1, na.rm=T)) %>%
arrange(desc(persistence))
ynp %>%
filter(pack=="druid") %>%
ggplot(aes(x=biolyr, y=packsize_aug)) +
geom_col()+
coord_flip()
wolves <- read.csv("data/NPS_wolfmortalitydata.csv", na = c("NULL")) %>% clean_names()
library("tidyverse")
library("janitor")
wolves <- read.csv("data/NPS_wolfmortalitydata.csv", na = c("NULL")) %>% clean_names()
names(wolves)
str(wolves)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
glimpse(fisheries)
head(fisheries)
tail(fisheries)
str(fisheries)
fisheries <- janitor::clean_names(fisheries)
names(fisheries)
fisheries$country <- as.factor(fisheries$country)
fisheries$isscaap_group_number <- as.factor(fisheries$isscaap_group_number)
fisheries$asfis_species_number <- as.factor(fisheries$asfis_species_number)
fisheries$fao_major_fishing_area <- as.factor(fisheries$fao_major_fishing_area)
fisheries <-
fisheries %>% mutate(across(c(country, isscaap_group_number, asfis_species_number, fao_major_fishing_area), as_factor))
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
fisheries_tidy %>%
summarize(ncountries = n_distinct(country))
unique(fisheries_tidy$country)
fisheries_tidy %>% distinct(country)
levels(fisheries_tidy$country)
fisheries_tidy_focused <- fisheries_tidy %>%
select(country, isscaap_taxonomic_group, asfis_species_name, asfis_species_number, year, catch)
fisheries_tidy_focused
fisheries_tidy_focused %>%
summarize(n_taxa=n_distinct(asfis_species_number))
fisheries_tidy_focused %>%
filter(year==2000) %>%
group_by(country) %>%
summarize(catch_total=sum(catch, na.rm=T)) %>%
arrange(desc(catch_total))
fisheries_tidy_focused %>%
filter(asfis_species_name== "Sardina pilchardus") %>%
filter(year>=1990 & year<=2000) %>%
group_by(country) %>%
summarize(catch_total=sum(catch, na.rm=T)) %>%
arrange(desc(catch_total))
sardines1 <- fisheries_tidy_focused %>%
filter(stringr::str_detect(asfis_species_name, "Sardina")) %>%
filter(year>=1990 & year<=2000)
sardines1 %>%
group_by(country) %>%
summarize(catch_total=sum(catch, na.rm=T)) %>%
arrange(desc(catch_total))
sardines2 <- fisheries_tidy_focused %>%
filter(stringr::str_detect(isscaap_taxonomic_group, "sardines")) %>%
filter(year>=1990 & year<=2000)
sardines2 %>%
group_by(country) %>%
summarize(catch_total=sum(catch, na.rm=T)) %>%
arrange(desc(catch_total))
fisheries_tidy_focused %>%
filter(str_detect(isscaap_taxonomic_group, "Squids")) %>%
filter(year>=2008 & year<=2012) %>%
group_by(country) %>%
summarize(catch_total=sum(catch, na.rm=T)) %>%
arrange(desc(catch_total))
fisheries_tidy_focused %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
count(asfis_species_name, sort=T)
fisheries_tidy_focused %>%
filter(year>=2008 & year<=2012)%>%
group_by(asfis_species_name) %>%
summarize(catch_total=sum(catch, na.rm=T)) %>%
arrange(desc(catch_total))
fisheries_tidy
head(fisheries_tidy)
head(fisheries_tidy)
